{"ast":null,"code":"var _jsxFileName = \"/Users/ansi/Desktop/Desktop_folders/PROJECTS/journey-app/src/subPages/Popups/Login/UsLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport './login.css';\n// actions\nimport TextInputBlock from '../../Micros/TextInputBlock';\nimport { allDataChange } from '../../../redux/action/expo';\nimport { deactivatePopup } from '../../../redux/action/popupActions.js';\n// api call functions\nimport { sendToBackendPost } from '../../../apiCalls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UsLogin() {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [InputClassvals, setInputClassVal] = useState({\n    inputName: '',\n    nameClass: ''\n  });\n  const [errorSubmit, setErrorSubmit] = useState('');\n  const [formValues, setFormValues] = useState({\n    act: 'login'\n  });\n  const getvaluesForm = (Inputname, value) => {\n    const tempFormVal = formValues;\n    // check if it the check value\n    if (typeof value === 'boolean') {\n      if (value) {\n        tempFormVal[Inputname] = 'yes';\n      } else {\n        delete tempFormVal[Inputname];\n      }\n    } else {\n      tempFormVal[Inputname] = value;\n    }\n    setFormValues({\n      ...tempFormVal\n    });\n    setInputClassVal({\n      inputName: Inputname,\n      nameClass: 'errorInput'\n    }); // remember to remove this\n  };\n\n  async function submitForm(e) {\n    e.preventDefault();\n    console.log(formValues);\n    const ans = await sendToBackendPost('/login/', formValues);\n    if (ans && ans.state === 'success') {\n      document.cookie = `sessionId=${ans.sessionId}; path=/`;\n      console.log('Session ID:', ans.sessionId);\n      dispatch(deactivatePopup());\n      dispatch(allDataChange(Math.random()));\n      navigate('/home');\n    } else if (ans && ans.state !== 'success') {\n      setErrorSubmit(ans.message);\n    } else {\n      setErrorSubmit(ans.message);\n    }\n    console.log(ans);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loginMainPopup\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginPopupTopSect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"LoginContentHolder\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"LoginHeaderMainPopup\",\n        children: \"Admin Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"LoginFormPopup\",\n        onSubmit: e => submitForm(e),\n        children: [/*#__PURE__*/_jsxDEV(TextInputBlock, {\n          InputName: \"uname\",\n          LabelName: \"User Name\",\n          placeHolder: \"e.g. inn.irro\",\n          Type: \"text\",\n          InputStyleClass: InputClassvals.inputName === 'uname' ? InputClassvals.nameClass : '',\n          defaultVal: \"\",\n          ChangeFun: getvaluesForm,\n          is_Required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextInputBlock, {\n          InputName: \"password\",\n          LabelName: \"Password\",\n          placeHolder: \"password\",\n          Type: \"password\",\n          InputStyleClass: InputClassvals.inputName === 'password' ? InputClassvals.nameClass : '',\n          defaultVal: \"\",\n          ChangeFun: getvaluesForm,\n          is_Required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errorDivFormHolder\",\n          children: errorSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttonHolderLogin\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"loginButtonPopup\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(UsLogin, \"fXukVh0Sihl/gA6jPkCEOzgxu1Y=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n_c = UsLogin;\nexport default UsLogin;\nvar _c;\n$RefreshReg$(_c, \"UsLogin\");","map":{"version":3,"names":["React","useState","useDispatch","useNavigate","TextInputBlock","allDataChange","deactivatePopup","sendToBackendPost","jsxDEV","_jsxDEV","UsLogin","_s","dispatch","navigate","InputClassvals","setInputClassVal","inputName","nameClass","errorSubmit","setErrorSubmit","formValues","setFormValues","act","getvaluesForm","Inputname","value","tempFormVal","submitForm","e","preventDefault","console","log","ans","state","document","cookie","sessionId","Math","random","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","InputName","LabelName","placeHolder","Type","InputStyleClass","defaultVal","ChangeFun","is_Required","type","_c","$RefreshReg$"],"sources":["/Users/ansi/Desktop/Desktop_folders/PROJECTS/journey-app/src/subPages/Popups/Login/UsLogin.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport './login.css';\n// actions\nimport TextInputBlock from '../../Micros/TextInputBlock';\nimport { allDataChange } from '../../../redux/action/expo';\nimport { deactivatePopup } from '../../../redux/action/popupActions.js'\n// api call functions\nimport { sendToBackendPost } from '../../../apiCalls';\n\nfunction UsLogin() {\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const [InputClassvals, setInputClassVal] = useState({ inputName: '', nameClass: '' });\n    const [errorSubmit, setErrorSubmit] = useState('');\n    const [formValues, setFormValues] = useState({ act: 'login' });\n    const getvaluesForm = (Inputname, value) => {\n        const tempFormVal = formValues;\n        // check if it the check value\n        if (typeof (value) === 'boolean') {\n            if (value) {\n                tempFormVal[Inputname] = 'yes';\n            } else {\n                delete tempFormVal[Inputname];\n            }\n        } else {\n            tempFormVal[Inputname] = value;\n        }\n        setFormValues({\n            ...tempFormVal,\n        });\n\n        setInputClassVal({ inputName: Inputname, nameClass: 'errorInput' }); // remember to remove this\n    };\n\n    async function submitForm(e) {\n        e.preventDefault();\n        console.log(formValues);\n        const ans = await sendToBackendPost('/login/', formValues);\n      \n        if (ans && ans.state === 'success') {\n          document.cookie = `sessionId=${ans.sessionId}; path=/`;\n          console.log('Session ID:', ans.sessionId);\n          dispatch(deactivatePopup());\n          dispatch(allDataChange(Math.random()));\n          navigate('/home');\n        } else if (ans && ans.state !== 'success') {\n          setErrorSubmit(ans.message);\n        } else {\n          setErrorSubmit(ans.message);\n        }\n        console.log(ans);\n      }\n      \n\n    return (\n        <div className=\"loginMainPopup\">\n            <div className=\"loginPopupTopSect\">\n            </div>\n            <div className=\"LoginContentHolder\">\n                <h2 className=\"LoginHeaderMainPopup\">Admin Login</h2>\n                <form className=\"LoginFormPopup\" onSubmit={(e) => submitForm(e)}>\n                    <TextInputBlock\n                        InputName=\"uname\"\n                        LabelName=\"User Name\"\n                        placeHolder=\"e.g. inn.irro\"\n                        Type=\"text\"\n                        InputStyleClass={InputClassvals.inputName === 'uname' ? InputClassvals.nameClass : ''}\n                        defaultVal=\"\"\n                        ChangeFun={getvaluesForm}\n                        is_Required={true}\n                    />\n                    <TextInputBlock\n                        InputName=\"password\"\n                        LabelName=\"Password\"\n                        placeHolder=\"password\"\n                        Type=\"password\"\n                        InputStyleClass={InputClassvals.inputName === 'password' ? InputClassvals.nameClass : ''}\n                        defaultVal=\"\"\n                        ChangeFun={getvaluesForm}\n                        is_Required={true}\n                    />\n                    <div className=\"errorDivFormHolder\">\n                        {\n                            errorSubmit\n                        }\n                    </div>\n                    <div className=\"buttonHolderLogin\">\n                        <button type=\"submit\" className=\"loginButtonPopup\">Login</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default UsLogin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}